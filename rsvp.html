<form id="rsvp-form">
  <input name="firstName" placeholder="First Name" required />
  <input name="lastName" placeholder="Last Name" required />
  <input name="attending" type="number" placeholder="Attending" required />
  <textarea name="notes" placeholder="Notes"></textarea>
  <button type="submit">Submit RSVP</button>
</form>

<script>
  const scriptURL = 'https://script.google.com/macros/s/AKfycbw9ZeLu5p3revBsHE9wFKtO4JGoas9-7DGwD60G2W6S9L0oaKlBe6mvLvURLYruTg7YBw/exec';

  document.getElementById('rsvp-form').addEventListener('submit', e => {
    e.preventDefault();
    const form = e.target;
    const formData = new FormData(form);

    fetch(scriptURL, {
      method: 'POST',
      body: formData // Do NOT set content-type!
    })
    .then(response => {
      if (!response.ok) throw new Error('Network response was not ok');
      alert('Thank you for your RSVP!');
      window.location.href = 'index.html';
    })
    .catch(error => {
      console.error('Error!', error.message);
      alert('Error submitting RSVP. Try again later.');
    });
  });
</script>
